import{a as x}from"./chunk-SQOI43AL.js";import{d as T,e as I}from"./chunk-VAZ272IR.js";import{a as q,b as F,c as d,d as N,e as W,f as k,g as h,h as L,i as O,j as V,k as A,o as B,p as G,q as j,r as D}from"./chunk-QRH52RPE.js";import{i as M,j as R,k as P}from"./chunk-HX75HRTQ.js";import{Ga as p,Ia as l,Ma as r,Na as n,Sa as y,Ta as f,Y as S,Ya as s,Za as E,ab as _,bb as v,cb as w,eb as b,ua as o,va as C}from"./chunk-6IZXC2FC.js";function U(e,a){if(e&1&&(r(0,"li"),s(1),n()),e&2){let t=a.$implicit;o(),E(t)}}function z(e,a){if(e&1&&(r(0,"div",23),p(1,U,2,1,"li",24),n()),e&2){let t=f();o(),l("ngForOf",t.errormsg)}}function Z(e,a){e&1&&(r(0,"div"),s(1,"Username is required"),n())}function Y(e,a){e&1&&(r(0,"div"),s(1,"Username must be at least 3 characters"),n())}function H(e,a){e&1&&(r(0,"div"),s(1,"Username must be at most 30 characters"),n())}function J(e,a){e&1&&(r(0,"div"),s(1,"Username must be alphanumeric"),n())}function K(e,a){if(e&1&&(r(0,"div",25),p(1,Z,2,0,"div",26)(2,Y,2,0,"div",26)(3,H,2,0,"div",26)(4,J,2,0,"div",26),n()),e&2){let t=f();o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.required),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.minlength),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.maxlength),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.pattern)}}function Q(e,a){e&1&&(r(0,"div"),s(1,"Email is required"),n())}function X(e,a){e&1&&(r(0,"div"),s(1,"Email must be a valid email address"),n())}function $(e,a){e&1&&(r(0,"div"),s(1,"Email must be alphanumeric"),n())}function ee(e,a){if(e&1&&(r(0,"div",25),p(1,Q,2,0,"div",26)(2,X,2,0,"div",26)(3,$,2,0,"div",26),n()),e&2){let t=f();o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email),o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern)}}function te(e,a){e&1&&(r(0,"div"),s(1,"Password is required"),n())}function ie(e,a){e&1&&(r(0,"div"),s(1,"Password must be at least 8 characters"),n())}function ne(e,a){e&1&&(r(0,"div"),s(1,"Password must be alphanumeric"),n())}function re(e,a){if(e&1&&(r(0,"div",25),p(1,te,2,0,"div",26)(2,ie,2,0,"div",26)(3,ne,2,0,"div",26),n()),e&2){let t=f();o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength),o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.pattern)}}function oe(e,a){e&1&&(r(0,"div"),s(1,"Password is required"),n())}function ae(e,a){e&1&&(r(0,"div"),s(1,"Password must be at least 8 characters"),n())}function le(e,a){e&1&&(r(0,"div"),s(1,"Passwords must match"),n())}function se(e,a){e&1&&(r(0,"div"),s(1,"Password must be alphanumeric"),n())}function me(e,a){if(e&1&&(r(0,"div",25),p(1,oe,2,0,"div",26)(2,ae,2,0,"div",26)(3,le,2,0,"div",26)(4,se,2,0,"div",26),n()),e&2){let t=f();o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.required),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.minlength),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.notEqual),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.pattern)}}var he=(()=>{let a=class a{constructor(u,g,i){this.auth=u,this.route=g,this.messageService=i,this.register={name:"",email:"",password:"",password_confirmation:""},this.isError=!1,this.errormsg="",this.showPassword=!1,this.formregistro=new k({name:new h("",[d.required,d.minLength(3),d.maxLength(30),d.pattern(/^[a-zA-Z0-9 ]*$/)]),email:new h("",[d.required,d.email]),password:new h("",[d.required,d.minLength(8),d.pattern(/^[a-zA-Z0-9 ]*$/)]),password_confirmation:new h("",[d.required,d.minLength(8),d.pattern(/^[a-zA-Z0-9 ]*$/)])})}get name(){return this.formregistro.get("name")}get email(){return this.formregistro.get("email")}get password(){return this.formregistro.get("password")}get password_confirmation(){return this.formregistro.get("password_confirmation")}Onsubmit(){this.auth.register(this.register).subscribe(u=>{console.log(u.msg),this.messageService.setMessage(u.msg),this.route.navigate(["/login"])},u=>{console.log(u),this.isError=!0,this.errormsg=u.error.errors.email,setTimeout(()=>{this.isError=!1,this.errormsg=""},1e4)})}togglePasswordVisibility(){this.showPassword=!this.showPassword}};a.\u0275fac=function(g){return new(g||a)(C(x),C(T),C(D))},a.\u0275cmp=S({type:a,selectors:[["app-registro"]],standalone:!0,features:[b],decls:41,vars:14,consts:[["class","alert alert-danger","role","alert",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","text-white","text-center"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputNombre",1,"form-label"],["type","name","id","inputNombre","formControlName","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","inputEmail",1,"form-label"],["type","email","id","inputEmail","formControlName","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPassword",1,"form-label"],["id","inputPassword","formControlName","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["for","password_confirmation",1,"form-label"],["id","password_confirmation","formControlName","password_confirmation","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","checkbox","id","showPassword",1,"form-check-input",3,"click","ngModelChange","ngModel"],["for","showPassword",1,"form-check-label"],["type","submit",1,"btn","text-white","w-100",3,"disabled"],[1,"card-footer","text-center"],["routerLink","/login"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[1,"text-danger"],[4,"ngIf"]],template:function(g,i){g&1&&(p(0,z,2,1,"div",0),r(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),s(7,"Registro"),n()(),r(8,"div",6)(9,"form",7),y("ngSubmit",function(){return i.Onsubmit()}),r(10,"div",8)(11,"label",9),s(12,"Nombre"),n(),r(13,"input",10),w("ngModelChange",function(m){return v(i.register.name,m)||(i.register.name=m),m}),n(),p(14,K,5,4,"div",11),n(),r(15,"div",8)(16,"label",12),s(17,"Correo electr\xF3nico"),n(),r(18,"input",13),w("ngModelChange",function(m){return v(i.register.email,m)||(i.register.email=m),m}),n(),p(19,ee,4,3,"div",11),n(),r(20,"div",8)(21,"label",14),s(22,"Contrase\xF1a"),n(),r(23,"input",15),w("ngModelChange",function(m){return v(i.register.password,m)||(i.register.password=m),m}),n(),p(24,re,4,3,"div",11),n(),r(25,"div",8)(26,"label",16),s(27,"Confirmar contrase\xF1a"),n(),r(28,"input",17),w("ngModelChange",function(m){return v(i.register.password_confirmation,m)||(i.register.password_confirmation=m),m}),n(),p(29,me,5,4,"div",11),n(),r(30,"div",8)(31,"input",18),y("click",function(){return i.togglePasswordVisibility()}),w("ngModelChange",function(m){return v(i.showPassword,m)||(i.showPassword=m),m}),n(),r(32,"label",19),s(33,"Mostrar contrase\xF1a"),n()(),r(34,"button",20),s(35,"Registrarse"),n()()(),r(36,"div",21)(37,"p"),s(38,"\xBFYa tienes una cuenta? "),r(39,"a",22),s(40,"Iniciar sesi\xF3n"),n()()()()()()()),g&2&&(l("ngIf",i.isError),o(9),l("formGroup",i.formregistro),o(4),_("ngModel",i.register.name),o(),l("ngIf",(i.name==null?null:i.name.invalid)&&((i.name==null?null:i.name.dirty)||(i.name==null?null:i.name.touched))),o(4),_("ngModel",i.register.email),o(),l("ngIf",(i.email==null?null:i.email.invalid)&&((i.email==null?null:i.email.dirty)||(i.email==null?null:i.email.touched))),o(4),l("type",i.showPassword?"text":"password"),_("ngModel",i.register.password),o(),l("ngIf",(i.password==null?null:i.password.invalid)&&((i.password==null?null:i.password.dirty)||(i.password==null?null:i.password.touched))),o(4),l("type",i.showPassword?"text":"password"),_("ngModel",i.register.password_confirmation),o(),l("ngIf",(i.password_confirmation==null?null:i.password_confirmation.invalid)&&((i.password_confirmation==null?null:i.password_confirmation.dirty)||(i.password_confirmation==null?null:i.password_confirmation.touched))),o(2),_("ngModel",i.showPassword),o(3),l("disabled",!i.formregistro.valid))},dependencies:[I,P,M,R,G,O,F,q,N,W,B,L,j,V,A],styles:[".card-header[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{background-color:#00c881}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}"]});let e=a;return e})();export{he as RegistroComponent};
