import{a as Z}from"./chunk-LBYXGKYQ.js";import{a as P}from"./chunk-3NGIFNNN.js";import{d as T,e as F}from"./chunk-X6K6JCTU.js";import{a as z}from"./chunk-6TRNSDK3.js";import{a as q,b as L,c as m,d as N,e as W,f as k,g as h,h as V,i as A,j as B,k as G,o as O,p as j,q as D}from"./chunk-QMUPNAPL.js";import{j as R,k as I}from"./chunk-XJVDUTBG.js";import{Ga as u,Ia as l,Ma as r,Na as n,Oa as b,Sa as y,Ta as c,Y as S,Ya as s,Za as E,_a as x,ab as f,bb as v,cb as w,eb as M,ua as o,va as C}from"./chunk-6IZXC2FC.js";function Y(e,a){if(e&1&&(r(0,"li"),s(1),n()),e&2){let t=c(2);o(),x("<",t.errors.name,"")}}function H(e,a){if(e&1&&(r(0,"li"),s(1),n()),e&2){let t=c(2);o(),E(t.errors.email)}}function J(e,a){if(e&1&&(r(0,"li"),s(1),n()),e&2){let t=c(2);o(),E(t.errors.password)}}function K(e,a){if(e&1&&(r(0,"div",23),u(1,Y,2,1,"li",24)(2,H,2,1,"li",24)(3,J,2,1,"li",24),n()),e&2){let t=c();o(),l("ngIf",t.errors.name),o(),l("ngIf",t.errors.email),o(),l("ngIf",t.errors.password)}}function Q(e,a){e&1&&(r(0,"div"),s(1,"El nombre es requerido"),n())}function U(e,a){e&1&&(r(0,"div"),s(1,"El nombre debe tener al menos 3 caracteres"),n())}function X(e,a){e&1&&(r(0,"div"),s(1,"El nombre debe tener como m\xE1ximo 30 caracteres"),n())}function $(e,a){e&1&&(r(0,"div"),s(1,"El nombre debe ser alfanum\xE9rico"),n())}function ee(e,a){if(e&1&&(r(0,"div",25),u(1,Q,2,0,"div",24)(2,U,2,0,"div",24)(3,X,2,0,"div",24)(4,$,2,0,"div",24),n()),e&2){let t=c();o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.required),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.minlength),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.maxlength),o(),l("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.pattern)}}function te(e,a){e&1&&(r(0,"div"),s(1,"El correo electr\xF3nico es requerido"),n())}function ie(e,a){e&1&&(r(0,"div"),s(1,"El correo electr\xF3nico debe ser una direcci\xF3n de correo v\xE1lida"),n())}function ne(e,a){e&1&&(r(0,"div"),s(1,"El correo electr\xF3nico debe ser alfanum\xE9rico"),n())}function re(e,a){if(e&1&&(r(0,"div",25),u(1,te,2,0,"div",24)(2,ie,2,0,"div",24)(3,ne,2,0,"div",24),n()),e&2){let t=c();o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email),o(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern)}}function oe(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a es requerida"),n())}function ae(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a debe tener al menos 8 caracteres"),n())}function le(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a debe ser alfanum\xE9rica"),n())}function se(e,a){if(e&1&&(r(0,"div",25),u(1,oe,2,0,"div",24)(2,ae,2,0,"div",24)(3,le,2,0,"div",24),n()),e&2){let t=c();o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength),o(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.pattern)}}function de(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a es requerida"),n())}function me(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a debe tener al menos 8 caracteres"),n())}function pe(e,a){e&1&&(r(0,"div"),s(1,"Las contrase\xF1as deben coincidir"),n())}function ue(e,a){e&1&&(r(0,"div"),s(1,"La contrase\xF1a debe ser alfanum\xE9rica"),n())}function ce(e,a){if(e&1&&(r(0,"div",25),u(1,de,2,0,"div",24)(2,me,2,0,"div",24)(3,pe,2,0,"div",24)(4,ue,2,0,"div",24),n()),e&2){let t=c();o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.required),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.minlength),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.notEqual),o(),l("ngIf",t.password_confirmation==null||t.password_confirmation.errors==null?null:t.password_confirmation.errors.pattern)}}var be=(()=>{let a=class a{constructor(p,g,i){this.auth=p,this.route=g,this.messageService=i,this.register={name:"",email:"",password:"",password_confirmation:""},this.isError=!1,this.errors={name:"",email:"",password:""},this.showPassword=!1,this.formregistro=new k({name:new h("",[m.required,m.minLength(3),m.maxLength(30),m.pattern(/^[a-zA-Z0-9 ]*$/)]),email:new h("",[m.required,m.email]),password:new h("",[m.required,m.minLength(8),m.pattern(/^[a-zA-Z0-9 ]*$/)]),password_confirmation:new h("",[m.required,m.minLength(8),m.pattern(/^[a-zA-Z0-9 ]*$/)])})}get name(){return this.formregistro.get("name")}get email(){return this.formregistro.get("email")}get password(){return this.formregistro.get("password")}get password_confirmation(){return this.formregistro.get("password_confirmation")}Onsubmit(){this.auth.register(this.register).subscribe(p=>{console.log(p.msg),this.messageService.setMessage(p.msg),this.route.navigate(["/login"])},p=>{console.log(p),this.isError=!0,this.errors.email=p.error.errors.email,this.errors.name=p.error.errors.name,this.errors.password=p.error.errors.password,setTimeout(()=>{this.isError=!1,this.errors.email="",this.errors.name="",this.errors.password=""},1e4)})}togglePasswordVisibility(){this.showPassword=!this.showPassword}};a.\u0275fac=function(g){return new(g||a)(C(P),C(T),C(z))},a.\u0275cmp=S({type:a,selectors:[["app-registro"]],standalone:!0,features:[M],decls:42,vars:14,consts:[["class","alert alert-danger","role","alert",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","text-white","text-center"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","inputNombre",1,"form-label"],["type","name","id","inputNombre","formControlName","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","inputEmail",1,"form-label"],["type","email","id","inputEmail","formControlName","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPassword",1,"form-label"],["id","inputPassword","formControlName","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["for","password_confirmation",1,"form-label"],["id","password_confirmation","formControlName","password_confirmation","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","checkbox","id","showPassword",1,"form-check-input",3,"click","ngModelChange","ngModel"],["for","showPassword",1,"form-check-label"],["type","submit",1,"btn","text-white","w-100",3,"disabled"],[1,"card-footer","text-center"],["routerLink","/login"],["role","alert",1,"alert","alert-danger"],[4,"ngIf"],[1,"text-danger"]],template:function(g,i){g&1&&(b(0,"app-navone"),u(1,K,4,3,"div",0),r(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3"),s(8,"Registro"),n()(),r(9,"div",6)(10,"form",7),y("ngSubmit",function(){return i.Onsubmit()}),r(11,"div",8)(12,"label",9),s(13,"Nombre"),n(),r(14,"input",10),w("ngModelChange",function(d){return v(i.register.name,d)||(i.register.name=d),d}),n(),u(15,ee,5,4,"div",11),n(),r(16,"div",8)(17,"label",12),s(18,"Correo electr\xF3nico"),n(),r(19,"input",13),w("ngModelChange",function(d){return v(i.register.email,d)||(i.register.email=d),d}),n(),u(20,re,4,3,"div",11),n(),r(21,"div",8)(22,"label",14),s(23,"Contrase\xF1a"),n(),r(24,"input",15),w("ngModelChange",function(d){return v(i.register.password,d)||(i.register.password=d),d}),n(),u(25,se,4,3,"div",11),n(),r(26,"div",8)(27,"label",16),s(28,"Confirmar contrase\xF1a"),n(),r(29,"input",17),w("ngModelChange",function(d){return v(i.register.password_confirmation,d)||(i.register.password_confirmation=d),d}),n(),u(30,ce,5,4,"div",11),n(),r(31,"div",8)(32,"input",18),y("click",function(){return i.togglePasswordVisibility()}),w("ngModelChange",function(d){return v(i.showPassword,d)||(i.showPassword=d),d}),n(),r(33,"label",19),s(34,"Mostrar contrase\xF1a"),n()(),r(35,"button",20),s(36,"Registrarse"),n()()(),r(37,"div",21)(38,"p"),s(39,"\xBFYa tienes una cuenta? "),r(40,"a",22),s(41,"Iniciar sesi\xF3n"),n()()()()()()()),g&2&&(o(),l("ngIf",i.isError),o(9),l("formGroup",i.formregistro),o(4),f("ngModel",i.register.name),o(),l("ngIf",(i.name==null?null:i.name.invalid)&&((i.name==null?null:i.name.dirty)||(i.name==null?null:i.name.touched))),o(4),f("ngModel",i.register.email),o(),l("ngIf",(i.email==null?null:i.email.invalid)&&((i.email==null?null:i.email.dirty)||(i.email==null?null:i.email.touched))),o(4),l("type",i.showPassword?"text":"password"),f("ngModel",i.register.password),o(),l("ngIf",(i.password==null?null:i.password.invalid)&&((i.password==null?null:i.password.dirty)||(i.password==null?null:i.password.touched))),o(4),l("type",i.showPassword?"text":"password"),f("ngModel",i.register.password_confirmation),o(),l("ngIf",(i.password_confirmation==null?null:i.password_confirmation.invalid)&&((i.password_confirmation==null?null:i.password_confirmation.dirty)||(i.password_confirmation==null?null:i.password_confirmation.touched))),o(2),f("ngModel",i.showPassword),o(3),l("disabled",!i.formregistro.valid))},dependencies:[F,I,R,j,A,L,q,N,W,O,V,D,B,G,Z],styles:[".card-header[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{background-color:#00c881}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}"]});let e=a;return e})();export{be as RegistroComponent};
